(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{34:function(e,t,n){e.exports=n(62)},39:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),c=n.n(l),i=n(1),o=n(2),u=n(4),s=n(3),m=n(5),p=n(13),h=(n(39),n(12)),d=n(6),g=n(15),b=n.n(g),f=new(function(){function e(){Object(i.a)(this,e),this.auth=b.a.create({baseURL:"https://topit.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}},{key:"profile",value:function(){return this.auth.get("/auth/profile").then((function(e){return e.data}))}},{key:"addTopic",value:function(){return this.auth.get("/auth/addtopic").then((function(e){return e.data}))}}]),e}()),v=r.a.createContext(),E=v.Consumer,O=v.Provider,j=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(o.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(E,null,(function(n){var a=n.login,l=n.signup,c=n.user,i=n.logout,o=n.isLoggedin,u=n.isLoading;return r.a.createElement(e,Object.assign({login:a,signup:l,user:c,logout:i,isLoggedin:o,isLoading:u},t.props))}))}}]),n}(r.a.Component)},y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;f.signup({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e){var t=e.username,a=e.password;f.login({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){f.logout().then((function(){return n.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,l=this.login,c=this.logout,i=this.signup;return r.a.createElement(O,{value:{isLoading:t,isLoggedin:n,user:a,login:l,logout:c,signup:i}},this.props.children)}}]),t}(r.a.Component),C=j(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(d.b,{to:"/login"}," Login"))}}]),t}(a.Component)),L=j(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={title:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component);var k=function(e){return r.a.createElement(d.b,{to:"topic/".concat(e.id),Component:w},r.a.createElement("div",null,r.a.createElement("h3",null,"title: ",e.title),r.a.createElement("p",null,"description: ",e.description)))},S=j(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={listOfTopics:[]},n.getAllTopics=function(){b.a.get("https://topit.herokuapp.com/home",{withCredentials:!0}).then((function(e){var t=e.data;n.setState({listOfTopics:t})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllTopics()}},{key:"render",value:function(){console.log("in home page");var e=this.state.listOfTopics.map((function(e){return r.a.createElement(k,{title:e.title,description:e.message,key:e.id,id:e._id})}));return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),e)}}]),t}(a.Component)),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"topicListProfile"},r.a.createElement("h1",null,"Topics List Profile"),r.a.createElement("ul",null,r.a.createElement("li",null,"topic 1"),r.a.createElement("li",null,"topic 2"),r.a.createElement("li",null,"topic 3"),r.a.createElement("li",null,"topic 4")))}}]),t}(a.Component),N=(j(x),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",description:""},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username: "),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement("button",{onClick:function(){return e.deleteProfile()}},"Delete Profile")))}}]),t}(a.Component)),P=j(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).renderEditProfile=function(){return r.a.createElement(N,null)},n.state={username:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"user-section"},r.a.createElement("h1",null,"user picture"),r.a.createElement("h1",null,"username"),r.a.createElement("p",null,"description")),r.a.createElement("div",{className:"fav-section"},r.a.createElement("h1",null,r.a.createElement(d.b,{to:"/profile/mytopics"},"My Topics")," / ",r.a.createElement(d.b,{to:"/profile/mycomments"},"My comments")),r.a.createElement(x,null)),r.a.createElement(d.b,{to:"/profile/edit"},r.a.createElement("button",{onClick:this.renderEditProfile},"Edit Profile")))}}]),t}(a.Component)),A=j(function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile"},r.a.createElement("h1",null,"Profile page"),r.a.createElement(P,null))}}]),t}(a.Component)),T=j(function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout),n=e.isLoggedin,a=e.profile,l=e.addTopic;return r.a.createElement("div",{className:"navbar"},n?r.a.createElement("div",null,r.a.createElement("div",{className:"home-btn"},r.a.createElement(d.b,{to:"/home"},r.a.createElement("img",{src:"./home.svg",alt:"home-section"}))),r.a.createElement("div",{className:"nav-btn"},r.a.createElement(d.b,{to:"/profile"},r.a.createElement("img",{src:"./profile.svg",alt:"profile-section",onClick:a}))),r.a.createElement("div",{className:"nav-btn"},r.a.createElement(d.b,{to:"/favorites"},r.a.createElement("img",{src:"./favorites.svg",alt:"favorites-section"}))),r.a.createElement("div",{className:"nav-btn"},r.a.createElement(d.b,{to:"/mytopics"},r.a.createElement("img",{src:"./mytopics.svg",alt:"mytopics-section"}))),r.a.createElement("div",{className:"nav-btn"},r.a.createElement(d.b,{to:"/mycomments"},r.a.createElement("img",{src:"./mycomments.svg",alt:"mycomments-section"}))),r.a.createElement("div",{className:"nav-btn"},r.a.createElement(d.b,{to:"/addtopic"},r.a.createElement("img",{src:"./create.svg",alt:"create a topic",onClick:l}))),r.a.createElement("div",{className:"logout-btn"},r.a.createElement("img",{src:"./logout.svg",alt:"log out",onClick:t}))):r.a.createElement("div",null,r.a.createElement(d.b,{to:"/login"}," ",r.a.createElement("button",null,"Login")," "),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/signup"}," ",r.a.createElement("button",null,"Signup")," ")))}}]),t}(a.Component)),D=n(17);var F=j((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(D.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return n?r.a.createElement(p.a,{to:"/home"}):r.a.createElement(t,e)}}))}));var M=j((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(D.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),U=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:""},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Title: "),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Category:"),r.a.createElement("select",{name:"category"},r.a.createElement("option",{value:""},"gaming"),r.a.createElement("option",{value:""},"Lifestyle"),r.a.createElement("option",{value:""},"Sport"),r.a.createElement("option",{value:""},"Musique"),r.a.createElement("option",{value:""},"Coding")),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement(d.b,{to:"/home"},r.a.createElement("button",null,"> Cancel"))))}}]),t}(a.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U,null))}}]),t}(a.Component),q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement(p.d,null,r.a.createElement(F,{exact:!0,path:"/signup",component:C}),r.a.createElement(F,{exact:!0,path:"/login",component:L}),r.a.createElement(M,{exact:!0,path:"/profile",component:A}),r.a.createElement(M,{exact:!0,path:"/profile/edit",component:N}),r.a.createElement(M,{exact:!0,path:"/addtopic",component:J}),r.a.createElement(M,{exact:!0,path:"/",component:S})))}}]),t}(a.Component);c.a.render(r.a.createElement(d.a,null,r.a.createElement(y,null,r.a.createElement(q,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.f0e813ca.chunk.js.map