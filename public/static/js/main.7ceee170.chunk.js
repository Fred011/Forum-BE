(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(31),r=a.n(c),s=a(1),i=a(2),l=a(4),m=a(3),u=a(5),p=a(14),h=(a(39),a(10)),d=a(6),v=a(12),g=a.n(v),f=new(function(){function e(){Object(s.a)(this,e),this.auth=g.a.create({baseURL:"https://topit.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/signup",{username:t,password:a}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),E=o.a.createContext(),b=E.Consumer,O=E.Provider,N=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(l.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){var t=this;return o.a.createElement(b,null,(function(a){var n=a.login,c=a.signup,r=a.user,s=a.logout,i=a.isLoggedin,l=a.isLoading;return o.a.createElement(e,Object.assign({login:n,signup:c,user:r,logout:s,isLoggedin:i,isLoading:l},t.props))}))}}]),a}(o.a.Component)},y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isLoggedin:!1,user:null,isLoading:!0},a.signup=function(e){var t=e.username,n=e.password;f.signup({username:t,password:n}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e){var t=e.username,n=e.password;f.login({username:t,password:n}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){f.logout().then((function(){return a.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,c=this.login,r=this.logout,s=this.signup;return o.a.createElement(O,{value:{isLoading:t,isLoggedin:a,user:n,login:c,logout:r,signup:s}},this.props.children)}}]),t}(o.a.Component),j=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:"",email:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,o=t.password;a.props.signup({username:n,password:o})},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(h.a)({},n,o))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.email;return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"all-login"},o.a.createElement("form",{className:"log",onSubmit:this.handleFormSubmit},o.a.createElement("input",{type:"text",name:"username",value:t,placeholder:"username",onChange:this.handleChange}),o.a.createElement("input",{type:"email",name:"email",value:n,placeholder:"email address",onChange:this.handleChange}),o.a.createElement("input",{type:"password",name:"password",value:a,placeholder:"password",onChange:this.handleChange}),o.a.createElement("input",{className:"signup-btn",type:"submit",value:"Signup"})),o.a.createElement("p",{className:"log-sentence"},"Already have account?",o.a.createElement(d.b,{to:"/login"}," ",o.a.createElement("span",{className:"span-account2"},"Login")))))}}]),t}(n.Component)),C=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,o=t.password;a.props.login({username:n,password:o})},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(h.a)({},n,o))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"all-login"},o.a.createElement("form",{className:"log",onSubmit:this.handleFormSubmit},o.a.createElement("input",{type:"text",name:"username",value:t,placeholder:"username",onChange:this.handleChange}),o.a.createElement("input",{type:"password",name:"password",value:a,placeholder:"password",onChange:this.handleChange}),o.a.createElement("input",{className:"submit-btn",type:"submit",value:"Login"}),o.a.createElement("p",{className:"log-sentence"},"Don't have an account? ",o.a.createElement(d.b,{to:"/signup"},o.a.createElement("span",{className:"span-account"},"Sign Up")," ")))))}}]),t}(n.Component)),w=new function e(){var t=this;Object(s.a)(this,e),this.getAllTopics=function(){return t.topic.get("https://topit.herokuapp.com/home").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getOneTopic=function(e){return t.topic.get("https://topit.herokuapp.com"+"/topics/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getMyTopics=function(){return t.topic.get("https://topit.herokuapp.com/mytopics").then((function(e){return console.log("MY TOPICS SERVICE",e.data),e.data})).catch((function(e){return console.log(e)}))},this.getUserTopic=function(e){return console.log("hello from topic service",e),t.topic.get("https://topit.herokuapp.com"+"/mytopics/".concat(e)).then((function(e){return console.log("RESPONSE",e.data),e.data})).catch((function(e){return console.log(e)}))},this.addTopic=function(e){return t.topic.post("https://topit.herokuapp.com/addtopic",e).then((function(e){return console.log("RESPONSE.DATAAAAAAA",e.data),e.data})).catch((function(e){return console.log(e)}))},this.deleteOneTopic=function(e){return console.log("HELLO FROM SERVICE"),t.topic.delete("https://topit.herokuapp.com"+"/mytopics/".concat(e,"/delete"))},this.topic=g.a.create({baseURL:"https://topit.herokuapp.com",withCredentials:!0})},k=new function e(){var t=this;Object(s.a)(this,e),this.getMyComments=function(){return t.comment.get("https://topit.herokuapp.com/mycomments").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.addComment=function(e,a){return console.log("hello from service ",e,a),t.comment.post("https://topit.herokuapp.com"+"/topic/".concat(e,"/comment"),a).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.comment=g.a.create({baseURL:"https://topit.herokuapp.com",withCredentials:!0})},S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(h.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state;k.addComment(a.props.topicID,t).then((function(){console.log("this.props",a.props),a.props.refreshTopic(),a.setState({message:""})}))},a.state={message:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"comment-form-container"},o.a.createElement("div",{className:"comment-bar"},o.a.createElement("form",{className:"comment-form",onSubmit:this.handleFormSubmit},o.a.createElement("input",{type:"text",className:"input-comment",name:"message",value:this.state.message,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"}))))}}]),t}(n.Component),L=Object(p.g)(S);var T=function(e){return o.a.createElement("div",{className:"comment-topic-container"},o.a.createElement("div",null,o.a.createElement("p",null,e.commentMsg),o.a.createElement("div",{className:"separation-2"})))},D=N(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout),a=e.isLoggedin,n=e.profile,c=e.addTopic;return o.a.createElement("div",{className:"navbar"},a?o.a.createElement("div",{className:"navbar-container"},o.a.createElement("div",{className:"nav-btn"},o.a.createElement(d.b,{to:"/"},o.a.createElement("img",{src:"/home.svg",alt:"home-section"}))),o.a.createElement("div",{className:"nav-btn"},o.a.createElement(d.b,{to:"/profile"},o.a.createElement("img",{src:"/profile.svg",alt:"profile-section",onClick:n}))),o.a.createElement("div",{className:"nav-btn"},o.a.createElement(d.b,{to:"/favorites"},o.a.createElement("img",{src:"/favorites.svg",alt:"favorites-section"}))),o.a.createElement("div",{className:"nav-btn"},o.a.createElement(d.b,{to:"/mytopics"},o.a.createElement("img",{src:"/mytopics.svg",alt:"mytopics-section"}))),o.a.createElement("div",{className:"nav-btn"},o.a.createElement(d.b,{to:"/mycomments"},o.a.createElement("img",{src:"/mycomments.svg",alt:"mycomments-section"}))),o.a.createElement("div",{className:"nav-btn"},o.a.createElement(d.b,{to:"/addtopic"},o.a.createElement("img",{src:"/create.svg",alt:"create a topic",onClick:c}))),o.a.createElement("div",{className:"logout-nav"},o.a.createElement("div",{className:"nav-btn"},o.a.createElement("img",{src:"/logout.svg",alt:"log out",onClick:t})))):o.a.createElement("div",null,o.a.createElement(d.b,{to:"/login"}," ",o.a.createElement("button",null,"Login")," "),o.a.createElement("br",null),o.a.createElement(d.b,{to:"/signup"}," ",o.a.createElement("button",null,"Signup")," ")))}}]),t}(n.Component)),A=new(function(){function e(){Object(s.a)(this,e),this.user=g.a.create({baseURL:"https://topit.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"getMyComments",value:function(){return this.user.get("/mycomments").then((function(e){return console.log("my comments",e.data),e.data})).catch((function(e){return console.log(e)}))}},{key:"getMyTopics",value:function(){return this.user.get("https://topit.herokuapp.com/mytopics").then((function(e){return console.log("my topics",e.data),e.data})).catch((function(e){return console.log(e)}))}},{key:"getUserData",value:function(){return this.user.get("https://topit.herokuapp.com/profile").then((function(e){return console.log(e.data),e.data})).catch((function(e){return console.log(e)}))}},{key:"updateUserData",value:function(e){return this.user.put("https://topit.herokuapp.com/profile/edit",e).then((function(e){return console.log("resssssssss",e.data),e.data})).catch((function(e){return console.log(e)}))}},{key:"addFavorites",value:function(e){return this.user.patch("https://topit.herokuapp.com"+"/favorites/add/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"getFavorites",value:function(){return this.user.get("/favorites").then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"deleteUser",value:function(e){return this.user.delete("https://topit.herokuapp.com"+"profile/".concat(e,"/delete"))}}]),e}()),U=N(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).getTopic=function(){var e=a.props.match.params.id;w.getOneTopic(e).then((function(e){console.log("PROOOOOOOOOPPPSSSSS <<<<<<<<<",a.props),a.setState({topic:e,listOfComments:e.comments})})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(h.a)({},n,o))},a.handleDeleteTopic=function(e){var t=a.props.match.params.id;e.preventDefault(),w.deleteOneTopic(t).then((function(){a.props.history.push("/")}))},a.handleFavorites=function(){var e=a.props.match.params.id;A.addFavorites(e).then((function(e){return console.log("DATAAAAAA",e)})).catch((function(e){return console.log(e)}))},a.handleUpVote=function(e){var t;"+"===e?(t=a.state.upvotes+1,a.toggleUpVote()):(t=a.state.upvotes-1,a.toggleDownVote()),a.setState({upvotes:t})},a.toggleUpVote=function(){var e=a.state.showArrowBlack;a.setState({showArrowBlack:!e})},a.toggleDownVote=function(){var e=a.state.showArrowBlack;a.setState({showArrowBlack:!e})},a.toggleFavorite=function(){var e=a.state.favorited;a.setState({favorited:!e})},a.state={topic:[],listOfComments:[],comment:[],upvotes:0,showArrowBlack:!0,favorited:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getTopic()}},{key:"render",value:function(){var e=this,t=this.state.listOfComments;console.log("STATE",this.state);var a=t.map((function(e){return o.a.createElement("div",{className:"commentMsg",key:e._id},o.a.createElement(T,{commentMsg:e.message,commentUser:e.user.username,commentDate:e.createdAt}))})),n=this.state.topic,c=n.title,r=n.message,s=n.creator,i=(n.category,n.comments,this.props.user.username);return console.log("CREATOR THIS STATE TOPIC",this.state.topic),o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"test-flex"},s?o.a.createElement("div",null,i===s.username?o.a.createElement("div",null,o.a.createElement("button",{className:"delete-btn",onClick:this.handleDeleteTopic},"delete")):null,o.a.createElement("div",{className:"test-flex"},o.a.createElement("div",{className:"topic-details-container"},o.a.createElement("div",{className:"left-part"},o.a.createElement("div",{className:"topic-info"},o.a.createElement("h1",null,c),o.a.createElement("p",null,r),o.a.createElement("h6",null," ",o.a.createElement("div",{className:"low-section-topic-card"},o.a.createElement("h5",null,o.a.createElement("img",{onClick:function(){return e.handleUpVote("+")},className:"arrow-vote",src:"/arrow-up.svg",alt:"upvote"}),this.state.upvotes,o.a.createElement("img",{className:"arrow-vote",src:"/arrow-down.svg",onClick:function(){return e.handleUpVote("-")},alt:"upvote"})),this.state.favorited?o.a.createElement("img",{className:"favorite",src:"/heart2.svg",alt:"favorite",onClick:function(t){e.handleFavorites()}}):o.a.createElement("img",{className:"favorite",src:"/favorite.svg",alt:"favorite",onClick:function(t){e.toggleFavorite()}})))),o.a.createElement(L,{refreshTopic:this.getTopic,topicID:this.state.topic._id}),o.a.createElement("div",{className:"comment-section"},a)),o.a.createElement("div",{className:"separation"}),o.a.createElement("div",{className:"topic-user"},o.a.createElement("div",{className:"photo-in-topic"},o.a.createElement("img",{src:"/Photo Linkedin a envoyer copie.jpg",className:"img-inside-topic",alt:"profile-picture"})),o.a.createElement("div",{className:"name-user-topic"},s.username),o.a.createElement("button",{className:"see-profile-btn"},"SEE PROFILE"))))):o.a.createElement("div",null,"Loading...")))}}]),t}(n.Component)),M=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={upvote:0,showArrowBlack:!0},a.handleUpVote=function(e){var t;"+"===e?(t=a.state.upvote+1,a.toggleUpVote()):(t=a.state.upvote-1,a.toggleDownVote()),a.setState({upvote:t})},a.toggleUpVote=function(){var e=a.state.showArrowBlack;a.setState({showArrowBlack:!e})},a.toggleDownVote=function(){var e=a.state.showArrowBlack;a.setState({showArrowBlack:!e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({upvote:this.props.upvote})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"topic-card"},o.a.createElement("div",{className:"left-column"},o.a.createElement("div",{className:"photo"},o.a.createElement("img",{src:"/Photo Linkedin a envoyer copie.jpg",className:"img-topic",alt:"profile-picture"})),o.a.createElement("h4",{className:"topic-card-username"},this.props.creator.username," ")),o.a.createElement("div",{className:"right-column"},o.a.createElement(d.b,{to:"/topic/".concat(this.props.id)}," ",o.a.createElement("h3",null,this.props.title),o.a.createElement("p",null,this.props.description)),o.a.createElement("div",{className:"low-section-topic-card"},o.a.createElement("h5",null,o.a.createElement("img",{onClick:function(){return e.handleUpVote("+")},className:"arrow-vote",src:"/arrow-up.svg",alt:"upvote"}),this.state.upvote,o.a.createElement("img",{className:"arrow-vote",src:"/arrow-down.svg",onClick:function(){return e.handleUpVote("-")},alt:"upvote"}),"comments ",this.props.comments.length),o.a.createElement("h5",{className:"commentNum"})))))}}]),t}(n.Component)),F=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={listOfTopics:[],listOfComments:[],creator:[],upvote:"",downvote:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getAllTopics().then((function(t){e.setState({listOfTopics:t,listOfComments:t.comments,creator:t.creator,upvote:t.upVote,downvote:t.downVote})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.listOfTopics.map((function(e,t){return o.a.createElement(M,{title:e.title,creator:e.creator,description:e.message,comments:e.comments,upvote:e.upVote,date:e.created_at,id:e._id})}));return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"home"},o.a.createElement("h1",null,"Recent"),o.a.createElement("div",{className:"active"}),o.a.createElement("div",{className:"big-topic-container"}),o.a.createElement("div",{className:"last-topics-container"},e)))}}]),t}(n.Component));function P(e){return console.log("this.props",e),o.a.createElement("div",{className:"default"},o.a.createElement("img",{src:"/JT404.gif",alt:"404 page not found"}),o.a.createElement("h1",null,"Seems you got lost !!"),o.a.createElement("p",null," http://topit.com",e.location.pathname," is not a good URL"))}N(function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"topicListProfile"},o.a.createElement("h1",null,"Topics List Profile"),o.a.createElement("ul",null,o.a.createElement("li",null,"topic 1"),o.a.createElement("li",null,"topic 2"),o.a.createElement("li",null,"topic 3"),o.a.createElement("li",null,"topic 4")))}}]),t}(n.Component));var x=function(e){return o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"topic-card-profile"},o.a.createElement("div",{className:"topic-preview-profile"},o.a.createElement("h3",null,e.title),o.a.createElement("p",null,e.message))))};var I=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"topic-card-profile"},o.a.createElement("div",{className:"topic-preview-profile"},o.a.createElement("p",null,e.message)))))},V=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",description:"",topicsList:[],commentsList:[],showCard:!0},a.getUserData=function(){A.getUserData().then((function(e){var t=e.username,n=e.description,o=e.topics,c=e.comments;a.setState({username:t,description:n,topicsList:o,commentsList:c})})).catch((function(e){return console.log(e)}))},a.toggleSection=function(){var e=a.state.showCard;a.setState({showCard:!e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("IN COMPONENT DID MOUNT"),this.getUserData()}},{key:"render",value:function(){var e=this,t=this.state.commentsList.map((function(e){return o.a.createElement(I,{key:e._id,user:e.user,message:e.message})})),a=this.state.topicsList;console.log("TOPICLIST PROFILE",a);var n=a.map((function(e){return o.a.createElement(x,{key:e._id,title:e.title,message:e.message})}));return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"profile-container"},o.a.createElement("div",{className:"profile-data"},o.a.createElement("img",{src:"/Photo Linkedin a envoyer copie.jpg",className:"profile-picture",alt:"profile picture"}),o.a.createElement("h2",null,this.state.username),o.a.createElement("p",null,this.state.description),o.a.createElement(d.b,{to:"/profile-edit"},o.a.createElement("button",{className:"edit-btn"},"Edit"))),o.a.createElement("div",{className:"separation-profile"}," ",o.a.createElement("p",null," ")),o.a.createElement("div",{className:"fav-section"},o.a.createElement("h2",{onClick:function(){return e.toggleSection()}},"TOPICS / COMMENTS"),this.state.showCard?o.a.createElement("div",null,n):o.a.createElement("div",null,t))))}}]),t}(n.Component)),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",description:"",userID:[]},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(h.a)({},n,o))},a.handleDeleteProfile=function(e){var t=a.props.user._id;console.log("USER ID",t)},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state;console.log("stateeeeeeee",t),A.updateUserData(t).then((function(){a.props.history.push("/profile")}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getUserData().then((function(t){e.setState({username:t.username,description:t.description,userID:t._id})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"edit-form-container"},o.a.createElement("div",{className:"form-profile"},o.a.createElement("form",{className:"edit-profile-form",onSubmit:this.handleFormSubmit},o.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("textarea",{name:"description",value:this.state.description,placeholder:"About you",onChange:function(t){return e.handleChange(t)}}),o.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"}),o.a.createElement("button",{className:"delete-btn",onClick:function(){return e.handleDeleteProfile()}},"Delete Profile")))))}}]),t}(n.Component),_=Object(p.g)(R),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={listOfTopics:[],listOfComments:[],creator:"",upvote:"",downvote:""},a.getTopic=function(){var e=a.props.match.params.id;console.log("this.props44444444",a.props),w.getOneTopic(e).then((function(e){a.setState({topic:e,listOfComments:e.comments,upvotes:e.upVotes,downvotes:e.downVotes})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log("this.props.match.params",this.props.match.params),w.getUserTopic(t).then((function(t){console.log("fucking data",t),e.setState({listOfTopics:t,listOfComments:t.comments,creator:t.creator,upvote:t.upVote,downvote:t.downVote})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.listOfTopics,t=this.state.creator,a=this.state.listOfComments.map((function(e){return o.a.createElement("div",{className:"commentMsg",key:e._id},o.a.createElement(T,{commentMsg:e.message,commentUser:e.creator,commentDate:e.createdAt}))}));return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"test-flex"},o.a.createElement("div",{className:"test-flex"},e?o.a.createElement("div",{className:"topic-details-container"},o.a.createElement("div",{className:"left-part"},o.a.createElement("div",{className:"topic-info"},o.a.createElement("h1",null,e.title),o.a.createElement("p",null,e.message)),o.a.createElement(L,{refreshTopic:this.getTopic,topicID:e._id}),o.a.createElement("div",{className:"comment-section"},a)),o.a.createElement("div",{className:"separation"}),o.a.createElement("div",{className:"topic-user"},"picture username",o.a.createElement("p",null,t.username),o.a.createElement("button",{className:"see-profile-btn"},"delete"))):o.a.createElement("h1",null,"loading.."))))}}]),t}(n.Component);n.Component;var J=function(e){return console.log("inside topic card",e),o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"topic-card"},o.a.createElement("div",{className:"left-column"},o.a.createElement("div",{className:"photo"},o.a.createElement("img",{src:"/Photo Linkedin a envoyer copie.jpg",className:"img-topic",alt:"profile-picture"})),o.a.createElement("h4",null,e.creator.username)),o.a.createElement("div",{className:"right-column"},o.a.createElement("h3",null,e.title),o.a.createElement("p",null,e.description),o.a.createElement("h5",null,"upvotes: ",e.upvotes," downvotes: ",e.downvotes))))},q=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={listOfTopics:[],username:"",description:"",commentsList:[]},a.getUserData=function(){A.getUserData().then((function(e){var t=e.username,n=e.description,o=e.topics,c=e.comments;a.setState({username:t,description:n,listOfTopics:o,commentsList:c})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var e=this.state.listOfTopics;console.log("LIST OF TOPICS",e);var t=e.map((function(e,t){return o.a.createElement(d.b,{to:"/mytopics/".concat(e._id),key:t},o.a.createElement(J,{creator:e.creator,title:e.title,description:e.message,comments:e.comments,id:e._id}))}));return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"big-topic-container"},o.a.createElement("div",null,e?o.a.createElement("div",null,t):o.a.createElement("h1",null,"Loading..."))))}}]),t}(n.Component));var G=function(e){return console.log("inside comment card"),o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"my-comments"},o.a.createElement("p",null,e.message)))},H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={listOfComments:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.getMyComments().then((function(t){e.setState({listOfComments:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.listOfComments,t=e.map((function(e,t){return console.log("ELEMENT",e),o.a.createElement(G,{message:e.message,id:e._id,key:t})}));return console.log("commentsssss",e),o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"big-topic-container"},o.a.createElement("div",null,e?o.a.createElement("div",null,t):o.a.createElement("h1",null,"Loading..."))))}}]),t}(n.Component),Y=N(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={favoritesList:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getFavorites().then((function(t){e.setState({favoritesList:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.favoritesList,t=e.map((function(e,t){return o.a.createElement("div",null,o.a.createElement(M,{title:e.title,creator:e.creator,description:e.message,comments:e.comments,upvote:e.upVote,date:e.created_at,id:e._id}))}));return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"big-topic-container"},o.a.createElement("div",null,e?o.a.createElement("div",null,t):o.a.createElement("h1",null,"Loading..."))))}}]),t}(n.Component)),X=a(17);var z=N((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,c=Object(X.a)(e,["component","isLoggedin","isLoading"]);return n?o.a.createElement("h1",null,"Loading"):o.a.createElement(p.b,Object.assign({},c,{render:function(e){return a?o.a.createElement(p.a,{to:"/"}):o.a.createElement(t,e)}}))}));var K=N((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,c=Object(X.a)(e,["component","isLoggedin","isLoading"]);return n?o.a.createElement("h1",null,"Loading"):o.a.createElement(p.b,Object.assign({},c,{render:function(e){return a?o.a.createElement(t,e):o.a.createElement(p.a,{to:"/login"})}}))})),Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",message:"",category:""},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(h.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault(),console.log("this.stategfgfg",a.state.category);var t=a.state;console.log("stateeeeeeee",t),w.addTopic(t).then((function(){console.log("this.props",a.props),window.location="/"}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("IN COMPONENT DID MOUNT")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"add-topic-container"},o.a.createElement("div",{className:"div-add-topic"},o.a.createElement("form",{className:"add-topic-form",onSubmit:this.handleFormSubmit},o.a.createElement("input",{type:"text",name:"title",value:this.state.title,placeholder:"Title",onChange:function(t){return e.handleChange(t)}}),o.a.createElement("select",{name:"category",required:!0,onChange:function(t){return e.handleChange(t)}},o.a.createElement("option",{selected:!0,disabled:!0,hidden:!0,value:"Default"},"choose one"),o.a.createElement("option",{value:"Gaming"},"Gaming"),o.a.createElement("option",{value:"Lifestyle"},"Lifestyle"),o.a.createElement("option",{value:"Sport"},"Sport"),o.a.createElement("option",{value:"Food"},"Food"),o.a.createElement("option",{value:"Coding"},"Coding"),o.a.createElement("option",{value:"UX-UI"},"Coding"),o.a.createElement("option",{value:"Fun"},"Fun"),o.a.createElement("option",{value:"Random"},"Random")),o.a.createElement("textarea",{name:"message",value:this.state.message,placeholder:"Your topic here",onChange:function(t){return e.handleChange(t)}}),o.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"}),o.a.createElement(d.b,{to:"/"},o.a.createElement("button",{className:"delete-btn"},"Cancel")))))}}]),t}(n.Component),W=Object(p.g)(Q),Z=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"testcards"},o.a.createElement(D,null),o.a.createElement("div",{className:"all-login"},o.a.createElement("div",{className:"log"},o.a.createElement(W,null))))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={topicsArr:[],showNav:!1,search:""},a.updateSearch=function(e){var t=e.target.value;a.state.topicsArr.filter((function(e){return o.a.createElement("div",null," topic.title.toLowerCase().includes(query.toLowerCase()) ")}));a.setState({search:t})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getAllTopics().then((function(t){e.setState({topicsArr:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p.d,null,o.a.createElement(z,{exact:!0,path:"/signup",component:j}),o.a.createElement(z,{exact:!0,path:"/login",component:C}),o.a.createElement(K,{exact:!0,path:"/profile",component:V}),o.a.createElement(K,{exact:!0,path:"/profile-edit",component:_}),o.a.createElement(K,{exact:!0,path:"/addtopic",component:Z}),o.a.createElement(K,{exact:!0,path:"/topic/:id",component:U}),o.a.createElement(K,{exact:!0,path:"/mytopics",component:q}),o.a.createElement(K,{exact:!0,path:"/mytopics/:id",component:B}),o.a.createElement(K,{exact:!0,path:"/mycomments",component:H}),o.a.createElement(K,{exact:!0,path:"/favorites",component:Y}),o.a.createElement(K,{exact:!0,path:"/",component:F}),o.a.createElement(p.b,{component:P})))}}]),t}(n.Component);r.a.render(o.a.createElement(d.a,null,o.a.createElement(y,null,o.a.createElement($,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.7ceee170.chunk.js.map